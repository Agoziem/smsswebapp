<!-- Annual Results Configuration Sidebar Component -->
<div class="lg:col-span-3">
  <!-- Annual Result Credential Form -->
  <div class="bg-base-100 rounded-xl shadow-lg p-6 mb-6">
    <h6 class="text-lg font-bold text-primary mb-4">
      <i class="fas fa-calendar-alt mr-2"></i>
      Annual Results Configuration
    </h6>
    <form action="" id="getstudentresultform" class="space-y-4" 
          hx-post="/api/get-annual-results" 
          hx-target="#annual-results-table-container" 
          hx-trigger="change from:select">
      <input type="text" value="{{ class.Class }}" class="hidden" />
      
      <div class="form-control">
        <label class="label">
          <span class="label-text font-medium">Subject</span>
        </label>
        <select class="select select-bordered focus:outline-orange focus:border-orange" name="subject" required>
          <option value="" disabled selected>Select your Subject</option>
          <!-- Dummy data for subjects -->
          <option value="Mathematics">Mathematics</option>
          <option value="English Language">English Language</option>
          <option value="Physics">Physics</option>
          <option value="Chemistry">Chemistry</option>
          <option value="Biology">Biology</option>
          <option value="Geography">Geography</option>
          <option value="Economics">Economics</option>
          <option value="Government">Government</option>
          <option value="Literature">Literature</option>
          <option value="History">History</option>
        </select>
      </div>

      <div class="form-control">
        <label class="label">
          <span class="label-text font-medium">Academic Session</span>
        </label>
        <select id="academicSessionSelect" name="AcademicSession" 
                class="select select-bordered focus:outline-orange focus:border-orange" required>
          <option value="" disabled selected>Select Academic Session</option>
          <!-- Dummy data for academic sessions -->
          <option value="2024/2025">2024/2025</option>
          <option value="2023/2024">2023/2024</option>
          <option value="2022/2023">2022/2023</option>
          <option value="2021/2022">2021/2022</option>
        </select>
      </div>
    </form>
  </div>

  <!-- Action Buttons -->
  <div class="space-y-3">
    <div class="alertcontainer2"></div>
    
    <button class="publishbtn btn btn-primary w-full shadow-lg" 
            hx-post="/api/publish-annual-results" 
            hx-confirm="Are you sure you want to publish these annual results?"
            hx-target="#alert-container">
      <span class="btn-label">Publish Annual Results</span>
      <span class="loading loading-spinner loading-sm hidden" id="publish-spinner"></span>
    </button>

    <button class="btn btn-success w-full shadow-lg"
            hx-get="/api/export-annual-results-excel"
            hx-trigger="click">
      <i class="fas fa-file-excel mr-2"></i>
      Export to Excel
    </button>

    <!-- Column Visibility Controls -->
    <div class="collapse collapse-arrow bg-base-200">
      <input type="checkbox" />
      <div class="collapse-title text-sm font-medium">
        <i class="fas fa-columns mr-2"></i>
        Hide/Show Columns
      </div>
      <div class="collapse-content">
        <div class="space-y-2">
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm" id="UnhideAllCheckbox" />
            <span class="label-text text-sm">Hide All Columns</span>
          </label>
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm column-checkbox" value="1" id="firstCheckbox" />
            <span class="label-text text-sm">1st Term</span>
          </label>
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm column-checkbox" value="2" id="secondCheckbox" />
            <span class="label-text text-sm">2nd Term</span>
          </label>
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm column-checkbox" value="3" id="thirdCheckbox" />
            <span class="label-text text-sm">3rd Term</span>
          </label>
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm column-checkbox" value="4" id="totalCheckbox" />
            <span class="label-text text-sm">Total</span>
          </label>
          <label class="cursor-pointer label justify-start gap-3">
            <input type="checkbox" class="checkbox checkbox-sm column-checkbox" value="5" id="averageCheckbox" />
            <span class="label-text text-sm">Average</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Annual Statistics Card -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body p-4">
        <h3 class="card-title text-sm">
          <i class="fas fa-chart-line text-primary"></i>
          Annual Statistics
        </h3>
        <div class="space-y-2 text-sm">
          <div class="flex justify-between">
            <span class="text-base-content/70">Total Students:</span>
            <span class="badge badge-primary">45</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/70">Pass Rate:</span>
            <span class="badge badge-success">78%</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/70">Annual Average:</span>
            <span class="badge badge-info">72.5%</span>
          </div>
          <div class="flex justify-between">
            <span class="text-base-content/70">Top Score:</span>
            <span class="badge badge-accent">95%</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Term Performance Comparison -->
    <div class="card bg-base-200 shadow-sm">
      <div class="card-body p-4">
        <h3 class="card-title text-sm">
          <i class="fas fa-chart-bar text-secondary"></i>
          Term Performance
        </h3>
        <div class="space-y-3 text-sm">
          <div>
            <div class="flex justify-between mb-1">
              <span>1st Term</span>
              <span>75%</span>
            </div>
            <progress class="progress progress-primary w-full" value="75" max="100"></progress>
          </div>
          <div>
            <div class="flex justify-between mb-1">
              <span>2nd Term</span>
              <span>68%</span>
            </div>
            <progress class="progress progress-secondary w-full" value="68" max="100"></progress>
          </div>
          <div>
            <div class="flex justify-between mb-1">
              <span>3rd Term</span>
              <span>74%</span>
            </div>
            <progress class="progress progress-accent w-full" value="74" max="100"></progress>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
