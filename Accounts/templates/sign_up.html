{% extends 'base.html' %}
{% load static %}

{% block title %} Sign up {% endblock %}

{% block content %}
<section class="py-4 mb-8">
  <div class="flex flex-col justify-center items-center">
    <h1 class="text-4xl font-bold mb-6">Sign up</h1>
    <div class="card lg:card-side bg-base-100 shadow-xl max-w-4xl w-full mx-4">
      <figure class="lg:w-1/2 hidden md:block">
        <img
          src="{% static 'images/Teachers_login.jpg' %}"
          alt="Sign up Image"
          class="w-full h-96 lg:h-full object-cover"
        />
      </figure>
      <div class="card-body lg:w-1/2 flex justify-center items-center">
        <div class="w-full max-w-sm space-y-4">
          {% if messages %}
          {% for message in messages %}
          <div class="alert alert-error">
            <i class="fa-solid fa-triangle-exclamation text-xl"></i>
            <span>{{ message }}</span>
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">
              <i class="fa-solid fa-times"></i>
            </button>
          </div>
          {% endfor %}
          {% endif %}

          <div class="flex justify-center">
            <div class="avatar">
              <div class="w-20 rounded-full">
                <img src="{% static 'images/St Marks Logo.png' %}" alt="School Logo" />
              </div>
            </div>
          </div>

          <form
            id="contact-form"
            method="POST"
            action="{% url 'Accounts:signup' %}"
            class="space-y-4 font-semibold text-base-content"
          >
            {% csrf_token %}
            <div class="form-control">
              <label class="label" for="name">
                <span class="label-text font-semibold">Username</span>
              </label>
              <input
                type="text"
                name="username"
                id="name"
                placeholder="Enter your username"
                class="input input-bordered w-full"
                required
              />
            </div>

            <div class="form-control">
              <label class="label" for="email">
                <span class="label-text font-semibold">Email Address</span>
              </label>
              <input
                type="email"
                name="email"
                id="email"
                placeholder="name@example.com"
                class="input input-bordered w-full"
              />
            </div>

            <div class="form-control">
              <label class="label" for="exampleFormControlInput1">
                <span class="label-text font-semibold">Password</span>
              </label>
              <div class="join w-full">
                <input
                  type="password"
                  name="password1"
                  id="exampleFormControlInput1"
                  placeholder="Enter Password"
                  class="input input-bordered join-item flex-1"
                  required
                />
                <button type="button" class="btn btn-outline join-item toggle-password1">
                  <i class="fa-solid fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="form-control">
              <label class="label" for="exampleFormControlInput2">
                <span class="label-text font-semibold">Confirm Password</span>
              </label>
              <div class="join w-full">
                <input
                  type="password"
                  name="password2"
                  id="exampleFormControlInput2"
                  placeholder="Re-enter your Password"
                  class="input input-bordered join-item flex-1"
                  required
                />
                <button type="button" class="btn btn-outline join-item toggle-password2">
                  <i class="fa-solid fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="form-control">
              <label class="label" for="Groupname">
                <span class="label-text font-semibold">Select a Group</span>
              </label>
              <select
                name="Groupname"
                id="Groupname"
                class="select select-bordered w-full"
                required
              >
                <option value="" disabled selected>Select your group</option>
                <option value="Teacher">Teacher</option>
                <option value="Formteacher">Formteacher</option>
                <option value="Admin">Admin</option>
              </select>
            </div>

            <div class="form-control hidden" id="Classname">
              <label class="label">
                <span class="label-text font-semibold">Select your Class</span>
              </label>
              <select
                name="Classname"
                class="select select-bordered w-full"
              >
                <option value="" disabled selected>
                  Select your Form class
                </option>
                {% for class in classes %}
                <option value="{{ class.Class }}">{{ class.Class }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="space-y-4 mt-6">
              <span id="error-text" class="text-error hidden">
                Passwords do not match
              </span>
              <button
                id="submit-btn"
                type="submit"
                class="btn btn-primary w-full"
              >
                Sign up
              </button>
            </div>
            
            <p class="text-center font-normal">
              Already have an Account?
              <a href="{% url 'Accounts:login' %}" class="link link-primary">Login</a>
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script src="{% static 'js/Accounts/Signup.js' %}"></script>
{% endblock %}
