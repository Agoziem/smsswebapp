{% extends 'base.html' %}
{% load static %}
{% block content%}
{% include 'main_navbar.html' %}

<section class="py-16 bg-gradient-to-br from-primary/10 to-secondary/10">
    <div class="container mx-auto px-4">
        <!-- Header Section -->
        <div class="text-center mb-12">
            <h1 class="text-5xl font-bold text-primary mb-4">CBT Center</h1>
            <p class="text-lg text-base-content/80 max-w-md mx-auto leading-relaxed">
                Welcome to our CBT Center. Kindly enter your Students Details Correctly in order to Proceed
            </p>
        </div>

        <!-- CBT Form Card -->
        <div class="flex justify-center">
            <div class="card lg:card-side bg-base-100 shadow-xl max-w-4xl w-full">
                <figure class="lg:w-1/2 hidden md:block">
                    <img src="{% static 'images/Gathering.jpg' %}" 
                         alt="Students gathering" 
                         class="w-full h-96 lg:h-full object-cover">
                </figure>
                
                <div class="card-body lg:w-1/2 flex justify-center items-center">
                    <div class="w-full max-w-sm space-y-6">
                        <!-- Messages -->
                        {% if messages %}
                        {% for message in messages %}
                        <div class="alert alert-success">
                            <i class="fa-solid fa-check-circle"></i>
                            <span>{{ message }}</span>
                        </div>
                        {% endfor %}
                        {% endif %}

                        <!-- CBT Form -->
                        <form id="student_info" method="POST" class="space-y-6">
                            {% csrf_token %}
                            
                            <div class="form-control">
                                <label class="label" for="class">
                                    <span class="label-text font-semibold">Classes:</span>
                                </label>
                                <select id="class" name="student_class" class="select select-bordered w-full" required>
                                    <option value="" disabled selected>--Select your class--</option>
                                    {% for class in classobjects %}
                                    <option value="{{ class.Class }}">{{ class.Class }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <div class="form-control">
                                <label class="label" for="Students">
                                    <span class="label-text font-semibold">Students List:</span>
                                </label>
                                <select id="Students" name="student_name" class="select select-bordered w-full" required>
                                    <option value="" disabled selected>--Select your name--</option>
                                </select>
                            </div>

                            <!-- Hidden time and date fields -->
                            <input type="hidden" id="time" name="time">
                            <input type="hidden" id="date" name="date">

                            <div class="form-control">
                                <label class="label" for="studentId">
                                    <span class="label-text font-semibold">Enter your Student ID:</span>
                                </label>
                                <input type="text" 
                                       id="studentId" 
                                       name="student_id"
                                       class="input input-bordered w-full" 
                                       placeholder="example: smss/3547" 
                                       required>
                            </div>

                            <button id="submit" 
                                    type="submit" 
                                    class="btn btn-primary w-full">
                                Submit
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script src="{% static 'js/Student_Portal/result_Populating.js' %}"></script>
<script src="{% static 'js/Student_Portal/CBT.js' %}"></script>
{% include 'main_footer.html' %}
{% endblock %}