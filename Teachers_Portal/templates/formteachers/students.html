{% extends '_layouts/dashboard_layout.html' %} 
{% load static %} 
{% block dashboard_content %}

<!-- Page Content -->
<div class="mb-8">
  <!-- Breadcrumb -->
  <div class="breadcrumbs text-sm mb-4">
    <ul>
      <li><a href="{% url 'Teachers_portal:Teachers_dashboard' %}" class="text-primary hover:text-primary/80">Dashboard</a></li>
      <li class="text-base-content">Class Management</li>
    </ul>
  </div>

  <!-- Page Header -->
  <div class="space-y-2">
    <h1 class="text-2xl md:text-3xl font-bold text-primary">Class Management</h1>
    {% if teacher.FirstName == "None" %}
    <div class="bg-warning/10 border border-warning/20 rounded-lg p-4 max-w-md mx-auto">
      <div class="flex items-center gap-3">
        <i class="fas fa-exclamation-triangle text-warning text-lg"></i>
        <div>
          <p class="font-medium text-warning">Profile Incomplete</p>
          <p class="text-sm text-warning/80">
            <a href="{% url 'Teachers_portal:profile' teacher.id %}" class="link link-hover underline">
              Edit your Teachers Profile to perform further actions
            </a>
          </p>
        </div>
      </div>
    </div>
    {% else %}
        <div class="">
          <p> Welcome Form-Teacher {{ request.user }}</p>
        </div>
    {% endif %}
  </div>
</div>

<!-- Hidden Inputs -->
<input type="text" id="studentclass" value="{{ class.Class }}" class="hidden" />
<input type="text" id="academicsession" value="{{ session.session }}" class="hidden" />

<!-- Main Content Grid -->
<div class="grid lg:grid-cols-12 gap-8">
  <!-- Students Table -->
  <div class="lg:col-span-8">
    {% include 'formteachers/_components/students_table.html' %}
  </div>

  <!-- Student Management Panel -->
  <div class="lg:col-span-4">
    {% include 'formteachers/_components/student_management_panel.html' %}
  </div>
</div>

<!-- Modals -->
{% include 'formteachers/_components/student_modals.html' %}

<script type="module" src="{% static 'js/Teacher_portal/students_view.js' %}"></script>
{% endblock %}
