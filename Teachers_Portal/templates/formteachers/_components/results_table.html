{% comment %} Results Table Component for Publishing {% endcomment %}
<div class="bg-base-100 rounded-xl shadow-lg p-6">
  <!-- Table Controls -->
  <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-6">
    <div class="form-control">
      <label class="label">
        <span class="label-text font-medium">Students per page</span>
      </label>
      <select id="lengthSelect" class="select select-bordered select-sm focus:outline-orange focus:border-orange">
        <option value="10" selected>10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="40">40</option>
        <option value="50">50</option>
      </select>
    </div>
    
    <div class="form-control w-full max-w-sm">
      <div class="input-group">
        <input type="text" id="filterInput" placeholder="Search students..." 
               class="input input-bordered focus:outline-orange focus:border-orange w-full" />
        <button class="btn btn-square btn-primary">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Results Table -->
  <div class="overflow-x-auto">
    <table id="dataTable" class="table table-zebra w-full">
      <thead class="bg-primary text-base-100">
        <tr>
          <th>S/N</th>
          <th id="tableHeader">
            Name <i class="fas fa-sort ml-2"></i>
          </th>
          {% for sub in subjects_allocation.subjects.all %}
          <th data-index="{{ forloop.counter }}" class="uppercase">
            {{ sub.subject_code }}
          </th>
          {% endfor %}
          <th>TOTAL</th>
          <th>AVE</th>
          <th>GRADE</th>
          <th>POSITION</th>
          <th>REMARK</th>
        </tr>
      </thead>
      <tbody>
        <!-- Table body will be populated by JavaScript -->
      </tbody>
    </table>
  </div>

  <!-- Table Footer -->
  <div class="flex flex-col lg:flex-row justify-between items-center mt-6 gap-4">
    <div class="pagination-literal text-sm text-base-content/70"></div>
    <div class="join">
      <ul class="pagination join"></ul>
    </div>
  </div>
</div>
