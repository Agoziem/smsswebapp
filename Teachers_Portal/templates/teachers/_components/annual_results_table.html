<!-- Annual Results Table Component -->
<div class="lg:col-span-8">
  <div class="bg-base-100 rounded-xl shadow-lg p-6 space-y-4">
    <!-- Header -->
    <div class="mb-4">
      <h6 class="text-lg font-bold text-primary">
        {{ class.Class }} Annual Results
      </h6>
      <p class="text-sm text-base-content/70">
        Comprehensive academic performance across all terms
      </p>
    </div>

    <!-- Table Controls -->
    <div
      class="flex flex-col sm:flex-row gap-4 flex-grow md:justify-between md:items-center"
    >
      <div class="form-control">
        <div class="flex items-center gap-2 flex-nowrap">
          <input
            type="text"
            id="filterInput"
            placeholder="Search students..."
            class="input input-bordered placeholder:text-secondary focus:outline-orange focus:border-orange w-full max-w-xs h-[35px] rounded-md"
            hx-post="/api/search-annual-results"
            hx-target="#annual-results-table-body"
            hx-trigger="keyup changed delay:500ms"
          />
          <button class="btn btn-square btn-primary h-[35px]">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <select
        id="lengthSelect"
        class="select select-bordered placeholder:text-secondary focus:outline-orange focus:border-orange w-full max-w-[150px] h-[35px] rounded-md"
        hx-get="/api/update-annual-table-length"
        hx-target="#annual-results-table-body"
        hx-trigger="change"
      >
        <option value="10" selected>10</option>
        <option value="20">20</option>
        <option value="30">30</option>
        <option value="40">40</option>
        <option value="50">50</option>
      </select>
    </div>

    <!-- Annual Results Table Container -->
    <div id="annual-results-table-container">
      <!-- Annual Results Table -->
      <div class="overflow-x-auto">
        <table id="dataTable" class="table table-zebra w-full">
          <thead class="bg-primary/10 text-primary">
            <tr>
              <th>S/N</th>
              <th
                id="tableHeader"
                class="cursor-pointer hover:bg-primary/20 flex items-center gap-2"
              >
                <span>Name</span>
                <i data-lucide="arrow-down-a-z" class="w-5 h-auto"></i>
              </th>
              <th data-index="1" class="text-center">1st Term</th>
              <th data-index="2" class="text-center">2nd Term</th>
              <th data-index="3" class="text-center">3rd Term</th>
              <th data-index="4" class="text-center">Total</th>
              <th data-index="5" class="text-center">Average</th>
              <th class="text-center">Grade</th>
              <th class="text-center">Position</th>
              <th class="text-center">Remark</th>
              <th class="hidden">Student ID</th>
            </tr>
          </thead>
          <tbody id="annual-results-table-body">
            <!-- Dummy data for annual results table -->
            <tr class="hover:bg-base-200/50">
              <td class="font-medium">1</td>
              <td class="font-medium text-primary text-nowrap">
                Adams, John Michael
              </td>
              <td class="text-center">
                <div class="badge badge-success">85</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">78</div>
              </td>
              <td class="text-center">
                <div class="badge badge-info">88</div>
              </td>
              <td class="text-center font-bold">251</td>
              <td class="text-center font-bold">83.7</td>
              <td class="text-center font-bold">B2</td>
              <td class="text-center font-bold">1st</td>
              <td class="text-center">
                <div class="badge badge-success text-nowrap">Excellent</div>
              </td>
              <td class="hidden">STU001</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">2</td>
              <td class="font-medium text-primary text-nowrap">
                Brown, Sarah Elizabeth
              </td>
              <td class="text-center">
                <div class="badge badge-success">82</div>
              </td>
              <td class="text-center">
                <div class="badge badge-info">80</div>
              </td>
              <td class="text-center">
                <div class="badge badge-success">86</div>
              </td>
              <td class="text-center font-bold">248</td>
              <td class="text-center font-bold">82.7</td>
              <td class="text-center font-bold">B2</td>
              <td class="text-center font-bold">2nd</td>
              <td class="text-center">
                <div class="badge badge-info text-nowrap">Very Good</div>
              </td>
              <td class="hidden">STU002</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">3</td>
              <td class="font-medium text-primary text-nowrap">
                Johnson, David Wilson
              </td>
              <td class="text-center">
                <div class="badge badge-info">75</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">72</div>
              </td>
              <td class="text-center">
                <div class="badge badge-info">79</div>
              </td>
              <td class="text-center font-bold">226</td>
              <td class="text-center font-bold">75.3</td>
              <td class="text-center font-bold">B3</td>
              <td class="text-center font-bold">3rd</td>
              <td class="text-center">
                <div class="badge badge-info text-nowrap">Good</div>
              </td>
              <td class="hidden">STU003</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">4</td>
              <td class="font-medium text-primary text-nowrap">
                Williams, Mary Grace
              </td>
              <td class="text-center">
                <div class="badge badge-warning">68</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">70</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">71</div>
              </td>
              <td class="text-center font-bold">209</td>
              <td class="text-center font-bold">69.7</td>
              <td class="text-center font-bold">C4</td>
              <td class="text-center font-bold">4th</td>
              <td class="text-center">
                <div class="badge badge-warning text-nowrap">Credit</div>
              </td>
              <td class="hidden">STU004</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">5</td>
              <td class="font-medium text-primary text-nowrap">
                Davis, Robert James
              </td>
              <td class="text-center">
                <div class="badge badge-warning">62</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">58</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">65</div>
              </td>
              <td class="text-center font-bold">185</td>
              <td class="text-center font-bold">61.7</td>
              <td class="text-center font-bold">C5</td>
              <td class="text-center font-bold">5th</td>
              <td class="text-center">
                <div class="badge badge-warning text-nowrap">Credit</div>
              </td>
              <td class="hidden">STU005</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">6</td>
              <td class="font-medium text-primary text-nowrap">
                Miller, Jennifer Ann
              </td>
              <td class="text-center">
                <div class="badge badge-error">48</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">52</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">55</div>
              </td>
              <td class="text-center font-bold">155</td>
              <td class="text-center font-bold">51.7</td>
              <td class="text-center font-bold">C6</td>
              <td class="text-center font-bold">6th</td>
              <td class="text-center">
                <div class="badge badge-error text-nowrap">Pass</div>
              </td>
              <td class="hidden">STU006</td>
            </tr>

            <tr class="hover:bg-base-200/50">
              <td class="font-medium">7</td>
              <td class="font-medium text-primary text-nowrap">
                Wilson, Michael Thomas
              </td>
              <td class="text-center">
                <div class="badge badge-error">42</div>
              </td>
              <td class="text-center">
                <div class="badge badge-error">38</div>
              </td>
              <td class="text-center">
                <div class="badge badge-error">45</div>
              </td>
              <td class="text-center font-bold">125</td>
              <td class="text-center font-bold">41.7</td>
              <td class="text-center font-bold">F9</td>
              <td class="text-center font-bold">7th</td>
              <td class="text-center">
                <div class="badge badge-error text-nowrap">Fail</div>
              </td>
              <td class="hidden">STU007</td>
            </tr>

            <!-- Incomplete/Pending students -->
            <tr class="hover:bg-base-200/50 opacity-50">
              <td class="font-medium">8</td>
              <td class="font-medium text-primary text-nowrap">
                Taylor, Lisa Marie
              </td>
              <td class="text-center">
                <div class="badge badge-success">82</div>
              </td>
              <td class="text-center">
                <div class="badge badge-warning">75</div>
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">157</td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Incomplete</div>
              </td>
              <td class="hidden">STU008</td>
            </tr>

            <tr class="hover:bg-base-200/50 opacity-50">
              <td class="font-medium">9</td>
              <td class="font-medium text-primary text-nowrap">
                Anderson, Mark Steven
              </td>
              <td class="text-center">
                <div class="badge badge-info">78</div>
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">78</td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Incomplete</div>
              </td>
              <td class="hidden">STU009</td>
            </tr>

            <tr class="hover:bg-base-200/50 opacity-50">
              <td class="font-medium">10</td>
              <td class="font-medium text-primary text-nowrap">
                Thompson, Rachel Nicole
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Pending</div>
              </td>
              <td class="text-center text-base-content/40">-</td>
              <td class="text-center">
                <div class="badge badge-ghost">Incomplete</div>
              </td>
              <td class="hidden">STU010</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Table Footer -->
    <div
      class="flex flex-col lg:flex-row justify-between items-center mt-6 gap-4"
    >
      <div class="pagination-literal text-sm text-base-content/70">
        Showing 1 to 10 of 45 entries
      </div>
      <div class="join" id="pagination-container">
        <button class="join-item btn btn-sm">«</button>
        <button class="join-item btn btn-sm">Page 22</button>
        <button class="join-item btn btn-sm">»</button>
      </div>
    </div>
  </div>
</div>
